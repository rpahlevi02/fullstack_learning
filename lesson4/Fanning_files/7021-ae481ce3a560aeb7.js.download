"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7021],{75050:function(e,t,i){i.d(t,{D:function(){return g}});var s=i(27573),o=i(75279),n=i(97189),r=i(82544),l=i(26300),a=i.n(l),c=i(5915),d=i(81899),u=i(7653),p=i(60486);let g=e=>{let{gif:t}=e,{position:i}=(0,o.o5)(t.id),l=(0,r.zZ)(t.id),g=(0,r.CA)(l),{gifs:x}=(0,u.useContext)(n._p),[f]=(0,p.Z)("Alt");return g?(0,s.jsx)("div",{className:"bg-giphyBlack/60 absolute inset-0 flex items-center justify-center text-2xl text-white ".concat(a().className),children:"DELETED"}):f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute inset-0 grid place-items-center",children:(0,s.jsx)("div",{className:"drop-shadow-text-shadow text-3xl font-bold uppercase",children:t.rating})}),(0,s.jsx)(d.AttributionOverlay,{gif:t,isHovered:!0})]}):i>0?(0,s.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),(0,o.WR)(t.id)},className:(0,c.cn)("border-giphyIndigo absolute inset-0 box-border border-[6px] border-solid ".concat(a().className)),children:i&&(0,s.jsx)("div",{className:"bg-giphyYellow absolute right-[-6px] top-[-6px] flex size-9 items-center justify-center text-lg font-extrabold text-black",children:i})}):(0,s.jsx)("div",{className:"absolute inset-0 cursor-pointer",onClick:async e=>{e.preventDefault(),e.stopPropagation();let i=x.findIndex(e=>e.id===t.id);if(e.shiftKey){let[e,t]=(0,o.pl)(i);for(let i=e;i<=t;i++){let e=x[i];(0,o.rC)(e,i)}}else(0,o.rC)(t,i)}})};t.Z=e=>{let{count:t=0}=e;return t>0?(0,s.jsx)("div",{className:(0,c.cn)("border-giphyIndigo absolute inset-0 box-border border-[6px] border-solid ".concat(a().className)),children:t&&(0,s.jsx)("div",{className:"bg-giphyYellow absolute right-[-6px] top-[-6px] flex size-9 items-center justify-center text-lg font-extrabold text-black",children:t})}):null}},48286:function(e,t,i){i.d(t,{f:function(){return l}});var s=i(27573),o=i(7653);let n={panel:"none",setPanel:()=>{}},r=(e,t)=>({...e,panel:t.type}),l=(0,o.createContext)(n);t.default=e=>{let{children:t}=e,[i,a]=(0,o.useReducer)(r,n),c=(0,o.useCallback)(e=>{a({type:e})},[]);return(0,s.jsx)(l.Provider,{value:{...i,setPanel:c},children:t})}},11628:function(e,t,i){var s=i(27573);t.Z=e=>(0,s.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6667 20C15.0347 20 15.349 19.8779 15.6094 19.6338C15.8698 19.3896 16 19.0951 16 18.75V10C16 9.65495 15.8698 9.36035 15.6094 9.11621C15.349 8.87207 15.0347 8.75 14.6667 8.75H13.3333V5C13.3333 4.32292 13.1927 3.67676 12.9115 3.06152C12.6302 2.44629 12.25 1.91406 11.7708 1.46484C11.2917 1.01562 10.724 0.659179 10.0677 0.395507C9.41146 0.131835 8.72222 0 8 0C7.27778 0 6.58854 0.131835 5.93229 0.395507C5.27604 0.659179 4.70833 1.01562 4.22917 1.46484C3.75 1.91406 3.36979 2.44629 3.08854 3.06152C2.80729 3.67676 2.66667 4.32292 2.66667 5V8.75H1.33333C0.965277 8.75 0.651042 8.87207 0.390625 9.11621C0.130208 9.36035 0 9.65495 0 10V18.75C0 19.0951 0.130208 19.3896 0.390625 19.6338C0.651042 19.8779 0.965277 20 1.33333 20H14.6667ZM10.6667 8.75H5.33333V5C5.33333 4.3099 5.59375 3.7207 6.11458 3.23242C6.63542 2.74414 7.26389 2.5 8 2.5C8.73611 2.5 9.36458 2.74414 9.88542 3.23242C10.4062 3.7207 10.6667 4.3099 10.6667 5V8.75Z"})})},88438:function(e,t,i){i.d(t,{default:function(){return g}});var s=i(27573),o=i(48286),n=e=>{var t;let{gradientId:i="favorites-icon",...o}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 22 20",xmlns:"http://www.w3.org/2000/svg",...o,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{x1:"0%",y1:"10%",x2:"0%",y2:"90%",id:i,children:[(0,s.jsx)("stop",{id:"gradient-stop-1",offset:"0%",stopColor:"var(--stop-color-1)"}),(0,s.jsx)("stop",{id:"gradient-stop-2",offset:"100%",stopColor:"var(--stop-color-2)"})]})}),(0,s.jsx)("path",{fill:(null===(t=o.className)||void 0===t?void 0:t.indexOf("--stop-color-1"))===-1?"":"url(#".concat(i,")"),fillRule:"evenodd",clipRule:"evenodd",d:"M18.9307 11.9353L11.3231 19.8661C11.2015 19.9554 11.0906 20 10.9904 20C10.8545 20 10.7436 19.9554 10.6578 19.8661L3.05013 11.9353C2.1631 11.0132 1.46386 10.0707 0.952383 9.10764C0.440911 8.14463 0.136893 7.22997 0.0403214 6.36364C-0.0562504 5.4973 0.0206483 4.6756 0.271019 3.8985C0.521391 3.1214 0.939862 2.43168 1.52645 1.82934C2.28471 1.04108 3.17352 0.507532 4.19289 0.228668C5.21225 -0.0501953 6.23161 -0.0501953 7.25098 0.228668C8.27034 0.507532 9.15915 1.04108 9.91741 1.82934C10.3395 2.26808 10.6971 2.76259 10.9904 3.31288C11.2837 2.76259 11.6414 2.26808 12.0634 1.82934C12.8217 1.03365 13.7105 0.494518 14.7299 0.211936C15.7493 -0.0706455 16.7704 -0.0706455 17.7933 0.211936C18.8163 0.494518 19.7105 1.03365 20.4759 1.82934C21.2556 2.6399 21.7385 3.5843 21.9244 4.66258C22.1104 5.74085 21.9531 6.91578 21.4523 8.1874C20.9516 9.45901 20.1111 10.7083 18.9307 11.9353Z"})]})},r=i(14789),l=i(57266),a=i(6928),c=i(5915),d=i(23733),u=i(7653),p=i(5794),g=e=>{let{gif:t,iconSize:i,className:g="",isFavorite:x,iconClassName:f,hideLabel:h}=e,{user:v}=(0,u.useContext)(a.Z),[C,m]=(0,p.Z)("hasSeenLocalFavoritesMessage",!1),{showMessage:b}=(0,u.useContext)(l.B),j=(0,r.k1)(),{setFavorites:y}=(0,u.useContext)(r.ZP),{setPanel:w}=(0,u.useContext)(o.f);(0,u.useEffect)(()=>{x&&y(e=>[...e,t.id])},[x,t.id,y]);let[N,k]=(0,u.useState)(void 0),_=void 0===N?x:N,[Z,L]=(0,u.useState)("Favorite");return(0,u.useEffect)(()=>{let e;return N?(L("Favorited!"),e=setTimeout(()=>{L("Favorite")},2e3),w("favorited")):!1===N&&(e=setTimeout(()=>{L("Favorite")},2e3),L("Removed")),()=>clearTimeout(e)},[N,w]),(0,s.jsxs)("div",{className:g,onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),k(!_),await j(t.id))try{var i;(0,d.u2)({event:"favorite_success",options:{content:(0,d.DO)(t),creator:{...(0,d.F9)(t),user_is_creator:(null==v?void 0:v.id)===(null===(i=t.user)||void 0===i?void 0:i.id)}}})}catch(e){}v||C||(m(!0),b({message:"Favorite saved! You can access your favorites from the user menu."}))},children:[(0,s.jsx)(n,{gradientId:"".concat(t.id,"-favorite"),width:i,height:i,className:(0,c.cn)("[--stop-color-1:var(--giphy-white)] [--stop-color-2:var(--giphy-white)]",f,_&&"[--stop-color-1:var(--giphy-pink)] [--stop-color-2:var(--giphy-red)]","Removed"===Z&&"[--stop-color-1:var(--giphy-white)]! [--stop-color-2:var(--giphy-white)]!")}),!h&&(0,s.jsx)("label",{className:(0,c.cn)("hidden md:block","text-lg font-bold","Removed"===Z?"text-giphyWhite":"from-giphyRed to-giphyPink bg-clip-text group-hover:bg-linear-to-b group-hover:text-transparent"),children:Z})]})}},47021:function(e,t,i){i.r(t),i.d(t,{AttrOverlay:function(){return A},default:function(){return W}});var s=i(27573),o=i(75050),n=i(29897),r=i(88438),l=i(11354),a=i(14789),c=i(6928),d=i(5915),u=i(1339),p=i(23733),g=i(81695),x=i(7653),f=i(5974),h=i(14683),v=i(13610);let C=f.ZP.div.withConfig({componentId:"sc-72a298f-0"})(["position:absolute;bottom:0;color:white;justify-content:flex-start;align-items:flex-end;font-size:12px;white-space:nowrap;padding:4px;overflow:hidden;width:100%;text-overflow:ellipsis;font-weight:bold;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 100%);opacity:",";transition:opacity 300ms;box-sizing:border-box;"],e=>e.isHovered?1:0),m=e=>{let{tag:t}=e;return(t=(0,h.Kx)(t))?(0,s.jsxs)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation();let i=(0,v.rg)(t);e.metaKey?window.open("".concat(location.origin).concat(i)):location.href=i},children:["#",t,"\xa0"]}):null};var b=e=>{let{gif:t,isHovered:i}=e;return(0,s.jsx)(C,{isHovered:i,children:t.tags.map(e=>(0,s.jsx)(m,{tag:e},e))})},j=i(75279),y=i(53444),w=e=>{let{gif:t}=e;return t.is_video?(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 flex select-none items-center justify-center",children:(0,s.jsx)(y.ClipIcon,{className:"fill-giphyWhite size-7 ml-2 absolute top-2 left-0"})}):null};let N="link-icon";var k=e=>{var t;return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{x1:"0%",y1:"10%",x2:"0%",y2:"90%",id:e.id||N,children:[(0,s.jsx)("stop",{id:"gradient-stop-1",offset:"0%",stopColor:"var(--stop-color-1)"}),(0,s.jsx)("stop",{id:"gradient-stop-2",offset:"100%",stopColor:"var(--stop-color-2)"})]})}),(0,s.jsx)("path",{fill:(null===(t=e.className)||void 0===t?void 0:t.indexOf("--stop-color-1"))===-1?"":"url(#".concat(e.id||N,")"),d:"M20.397 11.2546L17.5764 14.0751C17.674 13.0113 17.5374 11.9768 17.1665 10.9813L18.6402 9.47835C19.7724 8.33646 19.7724 6.49189 18.6402 5.35977C17.5081 4.22764 15.6635 4.22764 14.5217 5.35977L11.3986 8.45358C10.2664 9.61498 10.2664 11.44 11.3986 12.6014C11.9158 13.0797 11.9158 13.8702 11.3986 14.3582C10.9203 14.8462 10.1298 14.8462 9.64182 14.3582C7.54349 12.2306 7.54349 8.80493 9.64182 6.69684L12.7454 3.60303C14.873 1.46566 18.2986 1.46566 20.397 3.60303C22.5343 5.70135 22.5343 9.127 20.397 11.2546ZM14.3655 17.2958L11.2424 20.4189C9.13432 22.527 5.70867 22.527 3.58107 20.4189C1.47298 18.2913 1.47298 14.8657 3.58107 12.7576L6.43089 9.91753C6.33329 10.9813 6.46993 12.0451 6.8408 13.0406L5.36709 14.5143C4.23496 15.6562 4.23496 17.5008 5.36709 18.6329C6.49921 19.765 8.34378 19.765 9.48567 18.6329L12.5795 15.5391C13.7409 14.407 13.7409 12.5526 12.5795 11.4205C12.0915 10.9325 12.0915 10.1225 12.5795 9.6345C13.0675 9.14652 13.8775 9.14652 14.3655 9.6345C16.4638 11.7621 16.4638 15.1878 14.3655 17.2958Z"})]})},_=i(75952),Z=i(57266),L=e=>{let{gif:t,isClip:i=!1}=e,{showMessage:o}=(0,x.useContext)(Z.B),{url:n,images:{original:{url:r}}}=t,l=i?n:(0,v.O1)(r);return(0,s.jsx)(k,{className:"fill-giphyWhite size-5 transition-transform hover:scale-125",onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText(l),o({message:"Link copied to clipboard!",type:"success"}),(0,p.u2)({event:"share_success",options:{social:{socialChannel:"share"},content:(0,p.DO)(t,{rendition:_.i.Original,format:t.images.original.url}),creator:(0,p.F9)(t)}})}})},P=i(69103),R=i(82544),D=e=>{let{gif:t,className:i}=e,{addToEdit:o}=(0,x.useContext)(R.WA);return(0,s.jsx)(P.Z,{className:(0,d.cn)("size-5 transition-transform hover:scale-110",i),onClick:e=>{e.stopPropagation(),e.preventDefault(),o(t.id)}})},z=i(11628),F=e=>{let{gif:t}=e;return t.is_hidden?(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 flex select-none items-center justify-center",children:(0,s.jsx)(z.Z,{className:"fill-giphyRed size-10"})}):null};let O=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"w-full h-full top-0 left-0 absolute",children:t})},H=e=>{let{tag:t}=e;return(0,s.jsxs)("a",{className:"bg-giphyBlack rounded-full h-9 leading-9 text-giphyGreen font-bold italic text-[15px] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-[18px] max-w-full whitespace-nowrap text-ellipsis overflow-hidden",onClick:e=>{e.preventDefault(),e.stopPropagation(),location.href="/edit/gifs?query="+encodeURIComponent(t)},children:["#",t]})},A=e=>{let{gif:t,isHovered:i}=e,o=(0,x.useRef)(i),r=(0,g.useRouter)();i&&(o.current=!0);let{user:a}=t;return a&&o.current?(0,s.jsxs)("div",{onClick:e=>{e.stopPropagation(),(0,p.u2)({event:"attribution_open_click",options:{content:(0,p.DO)(t),creator:(0,p.F9)(t)}}),r.push("/".concat(a.username))},className:(0,d.cn)("transition-opacity group ease-in",i?"opacity-100":"opacity-0"),children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-[75px] cursor-default",style:{background:"linear-gradient(rgba(0, 0, 0, 0), rgba(18, 18, 18, 0.6))"}}),(0,s.jsxs)("div",{className:"absolute inset-x-2.5 bottom-2.5 flex gap-2",children:[(0,s.jsx)(n.Z,{user:a,size:32}),(0,s.jsx)(l.Z,{noLink:!0,user:a,className:"text-giphyWhite [&_svg]:fill-giphyWhite text-[16px] font-semibold group-hover:underline",alternateName:a.display_name})]})]}):null},B=e=>{let{colorClass:t}=e;return(0,s.jsx)("div",{className:"absolute h-[14px] w-[14px] top-2 left-2 rounded-full ".concat(t)})};var W=e=>{let{isHovered:t,gif:i,width:n}=e,{user:l}=(0,x.useContext)(c.Z),p=(0,a.xL)(t?i.id:void 0),f=(0,g.usePathname)(),h=(0,j.e$)(),v=Array.isArray(i.gps_tags)&&i.gps_tags.length>0&&"string"==typeof i.gps_tags[0],C=null;return Array.isArray(i.tags)&&(i.tags.includes("giphytrending")?C=(0,s.jsx)(B,{colorClass:"bg-giphyGreen"}):i.tags.includes("giphytrendingqueue")?C=(0,s.jsx)(B,{colorClass:"bg-blue-500"}):i.tags.includes("giphytrendingschedule")&&(C=(0,s.jsx)(B,{colorClass:"bg-yellow-400"}))),h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F,{gif:i}),(0,s.jsx)(w,{gif:i}),(0,s.jsx)(o.D,{isHovered:t,gif:i,width:n})]}):(0,s.jsxs)(s.Fragment,{children:[!t&&C,t&&v?(0,s.jsx)(O,{children:i.gps_tags&&(0,s.jsx)(H,{tag:i.gps_tags[0]})}):t&&(0,s.jsxs)("div",{className:"bg-giphyBlack/10 absolute right-2.5 top-2.5 flex items-center gap-3 rounded-md p-2",children:[l&&(0,u.J5)(l,i)&&(0,s.jsx)(D,{gif:i}),(0,s.jsx)(r.default,{hideLabel:!0,gif:i,className:(0,d.cn)("fill-giphyWhite size-5 opacity-5 duration-300 ease-in-out",(void 0!==p||!l)&&"opacity-100"),iconClassName:"hover:scale-110 transition-all",isFavorite:!!p}),(0,s.jsx)(L,{gif:i})]}),i.user&&0!==f.indexOf("/".concat(i.user.username))?(0,s.jsx)(A,{gif:i,width:n,isHovered:t}):(0,s.jsx)(b,{gif:i,isHovered:t,width:n}),(0,s.jsx)(F,{gif:i})]})}},1339:function(e,t,i){i.d(t,{J5:function(){return o},Rn:function(){return n}}),i(31489);let s=e=>(null==e?void 0:e.user_type)==="artist"||(null==e?void 0:e.user_type)==="partner",o=(e,t)=>null!=e&&!!e.is_staff||r(t,e),n=(e,t)=>null!=e&&!!e.is_staff||s(e)&&r(t,e);function r(e,t){var i;return!!t&&!!e&&(null==e?void 0:null===(i=e.user)||void 0===i?void 0:i.id)===(null==t?void 0:t.id)}},75952:function(e,t,i){i.d(t,{i:function(){return s}});let s={Small:"downsized",Social:"downsized_large",Original:"original",OriginalStill:"original_still",MP4:"original_mp4"}}}]);
//# sourceMappingURL=7021-ae481ce3a560aeb7.js.map